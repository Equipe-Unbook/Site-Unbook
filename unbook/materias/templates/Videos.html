{% load static %}

<!DOCTYPE html>
<html lang="pt-br">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Vídeos</title>
    <link rel="shortcut icon" href="{% static 'image/UnBook_page.ico' %}" type="image/x-icon" />
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link href="https://fonts.googleapis.com/css2?family=Montserrat:ital,wght@0,100..900;1,100..900&display=swap" rel="stylesheet" /> <!-- LINK PARA FONTE MONSTSERRAT -->

    <link rel="stylesheet" href="{% static 'css/styles_(Arquivos.html).css' %}" /> <!-- LINK PARA PARA CSS DA PÁGINA -->

    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/bootstrap-icons/1.10.3/font/bootstrap-icons.min.css" />

    <link href="https://fonts.googleapis.com/css2?family=Montserrat:ital,wght@0,100..900;1,100..900&display=swap" rel="stylesheet" /> <!-- LINK PARA FONTE MONSTSERRAT -->
  </head>

  <body>
    <script src="http://ajax.googleapis.com/ajax/libs/jquery/1.11.1/jquery.min.js"></script>
    <script type="text/javascript">
      csrf_token = '{{ csrf_token }}'
      nome = '{{ turma.professor.nome }}'
      codigo = '{{ turma.materia.codigo }}'
      quant_likes = []
      curtidas = []

      {% for likes in quant_curtidas %}
        quant_likes.push(Number("{{ likes }}"))
        {% endfor %}

        {% for curtiu in bool_curtiu %}
        curtidas.push("{{ curtiu }}")
        {% endfor %}

    </script>

    <div id="fundo_blur"></div>

    <div id="modal_upload">
      <h1 id="CampoFaladoModal1">Upload de links</h1>

      <h2 id="CampoFaladoModal2">O que é o seu link:</h2>
      <input class="inputs" id="queLinkéEsse" type="text" placeholder="Tente descrever em um única palavra :)" />

      <h2 id="CampoFaladoModal2">Deposite seu link no campo abaixo:</h2>
      <input class="inputs" id="poe_links" type="text" />
      <div id="enviar" onclick="enviar()">Fazer upload</div>
    </div>

    <a href="../../../"><img class="UnBook_logo_mini" src="{% static 'image/UnBook_loguinho.png' %}" /></a>
    <!-- LINK PARA VOLTAR A UNBOOK --> <!-- UNBOOK LOGUINHO BRANCO -->

    <div class="boxes">
      <div class="box1_2">
        <div id="box1">
          <h1 class="CampoFalado1_box1">Link destinado ao upload de arquivos relacionados a matéria em questão. Deixe sua contribuição.</h1>
        </div>

        <div id="box2">
          <label for="Upload" onclick="abrir_modal()">Upload de arquivos</label>
        </div>
      </div>

      <div id="box3">
        <a onclick="back()"><img src="{% static 'image/Arrow_back.png' %}" id="retry" /></a>
        <h1 id="Videos">Videos de apoio</h1>
        <h1 id="Materia" class="CampoFalado1">Materia: {{ turma.materia.nome }}</h1>
        <a id="Prof" href=" ../../../professor/{{ turma.professor.nome }}">(Prof. {{ turma.professor.nome }})</a>

        <hr style="margin: 1em 4em;" />

        <div id="posta_link">
          {% for video in videos %}

            <div id="videos" class="arquivos" onclick="AbrirLink('{{ video.link }}')">
              
              <div class="image">
              <i style="font-size: 3em;" class="bi bi-person-video2"></i>
              </div>

              <div class="div_space">
                <div class="usuarios">
                  <h3 class="title">Título: " {{ video.titulo }} "</h3>
                </div>
                
                <div class="text_arquivos">
                  {% comment %} <h2> @{{video.autor}} </h2> {% endcomment %}

                  <div class="link">
                    <h4 style="font-weight: 500; margin-right: 1em">Clique para acessar o link: </h4>
                    <a id="link" target="_blank" href="https://{{ video.link }}">{{ video.link }}</a>
                  </div>
                  <div class="like">
                    <h4 style="font-size: 1em; font-weight: 400; margin-right: 1em;">Horário da publicação: {{video.hora_publicacao}}</h4>

                    {% comment %} <button id="heart{{ forloop.counter0 }}" class="heart" type="button"><i class="bi bi-heart-fill"></i></button>
                    <h4 style="font-weight: 400; margin-left: 1em;" id="cont_link{{ forloop.counter0 }}"></h4> {% endcomment %}
                  </div>
                </div>

              </div>

              <div class="buttons">
                <i id="joia" class="bi bi-hand-thumbs-up"></i>
                <i id="denunciar" class="bi bi-exclamation-triangle"></i>
                <i id="deletar" class="bi bi-trash"></i>
                </div>
                
            </div> 
          {% endfor %}
        </div>
      </div>
    </div>

  <script>
    function AbrirLink(element){
      console.log("abrindo link:" + element)
      window.open("https://" + element, '_blank');
    }
  </script>  

    {% if messages %}
            {% for message in messages %}
                <h3 class="alerta" onclick="RetirarAlerta(this)">{{ message }}</h3>
            {% endfor %}
    {% endif %}
  </body>

  <script>
    function back() {
      history.back()
    }
  </script>

  <!-- LINK PARA ARQUIVOS JS -->
  <!-- <script src="../js/materia_(materia.html).js"></script> -->
  <script src="{% static 'js/abrir_modais_(Videos.html).js' %}"></script>
</html>
